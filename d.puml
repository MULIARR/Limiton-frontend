@startuml D
start
:Ініціалізація гаманця користувача;
:Отримання пулу активів через RPC;
:Підготовка транзакції свопу;
:Оновлення статусу ордера в базі даних (ACTIVE);
while (Умови свопу виконані?) is (Ні)
    :Оцінка вартості через RPC виклик смарт-контракту;
    :Очікування 1 секунди;
endwhile
:Виконання свопу;
if (Своп успішний?) then (Так)
    :Оновлення статусу в базі (COMPLETED);
    :Повідомлення користувачу;
else (Ні)
    :Оновлення статусу в базі (FAILED);
    :Повідомлення користувачу;
endif
:Завершення роботи алгоритму;
stop
@enduml
